(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{352:function(t,i,s){"use strict";s.r(i);var e={name:"m-magnifier",props:{width:{type:Number,default:function(){return 500}},picList:{type:Array,default:function(){return[]}},position:{type:String,default:function(){return"bottom"}}},data:()=>({picIndex:0,isShowVirtual:!1,showMask:!1,maskPosition:{},percent:{}}),methods:{computedOffset(t,i){return t==document.body||t.offsetParent==document.body?parseInt(t[i]):parseInt(t[i])+this.computedOffset(t.offsetParent,i)},changeIndex(t){this.picIndex=t.target.dataset.index},showMagnify(){this.showMask=!0,this.isShowVirtual=!0},hideMagnify(){this.isShowVirtual=!1,this.showMask=!1},computePosition(t){let i=t.pageX,s=t.pageY,e=this.$refs.mask,o=this.$refs.truth,a=this.$refs.virtual,n=this.$refs.bigPic;i=i-this.computedOffset(o,"offsetLeft")-e.offsetWidth/2,s=s-this.computedOffset(o,"offsetTop")-e.offsetHeight/2,i<=0?i=0:i>o.offsetWidth-e.offsetWidth&&(i=o.offsetWidth/2),s<=0?s=0:s>o.offsetHeight-e.offsetHeight&&(s=o.offsetHeight/2),this.maskPosition={x:i,y:s},this.percent={x:-i/(o.offsetWidth-e.offsetWidth)*(n.offsetWidth-a.offsetWidth)+"px",y:-s/(o.offsetHeight-e.offsetHeight)*(n.offsetHeight-a.offsetHeight)+"px"}},move(t){this.computePosition(t)}}},o=s(14),a=Object(o.a)(e,(function(){var t=this,i=t._self._c;return i("div",{staticClass:"mirror",class:"left"==t.position?"p-left":"right"==t.position?"p-right":""},["left"==t.position||"top"==t.position?i("ul",{staticClass:"picList",style:"top"==t.position?{width:t.width+"px"}:""},t._l(t.picList,(function(s,e){return i("li",{key:e,class:{now:e==t.picIndex},attrs:{"data-index":e},on:{mouseenter:t.changeIndex}},[i("img",{attrs:{src:s}})])})),0):t._e(),t._v(" "),i("div",{staticClass:"wrap",style:{width:t.width+"px",height:t.width+"px"}},[i("div",{ref:"truth",staticClass:"img-box",style:{width:"100%",height:"100%"},on:{mousemove:t.move,mouseenter:t.showMagnify,mouseleave:t.hideMagnify}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.showMask,expression:"showMask"}],ref:"mask",staticClass:"mask",style:{width:t.width/2+"px",height:t.width/2+"px",left:t.maskPosition.x+"px",top:t.maskPosition.y+"px"}}),t._v(" "),i("img",{attrs:{src:t.picList[t.picIndex],draggable:"false"}})]),t._v(" "),t.isShowVirtual?i("div",{ref:"virtual",staticClass:"virtual",style:{width:t.width+"px",height:t.width+"px"}},[i("div",{ref:"bigPic",staticClass:"big",style:{position:"absolute",width:2*t.width+"px",height:2*t.width+"px",backgroundSize:"100% 100%",backgroundImage:`url(${t.picList[t.picIndex]})`,left:t.percent.x,top:t.percent.y}})]):t._e()]),t._v(" "),"bottom"==t.position||"right"==t.position?i("ul",{staticClass:"picList",style:"bottom"==t.position?{width:t.width+"px"}:""},t._l(t.picList,(function(s,e){return i("li",{key:e,staticClass:"img-box",class:{now:e==t.picIndex},attrs:{"data-index":e},on:{mouseenter:t.changeIndex}},[i("img",{attrs:{src:s}})])})),0):t._e()])}),[],!1,null,null,null);i.default=a.exports}}]);